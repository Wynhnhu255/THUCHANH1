<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>TQN Shop - C·ª≠a h√†ng Figure ch√≠nh h√£ng</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="logo">
      <a href="index.html">
        <img src="img/logo.jpg" alt="Logo TQN Shop">
      </a>
      <div class="shop-name">TQN Shop</div>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Trang ch·ªß</a></li>
        <li><a href="img/cart.html">Gi·ªè h√†ng</a></li>
        <li><a href="#">ƒêƒÉng nh·∫≠p</a></li>
      </ul>
    </nav>
  </header>

  <section class="search-bar">
    <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
    <select>
      <option>Danh m·ª•c</option>
      <option>Anime</option>
      <option>Game</option>
      <option>Marvel</option>
    </select>
    <input type="number" placeholder="Gi√° t·ª´">
    <input type="number" placeholder="ƒê·∫øn">
    <button>T√¨m ki·∫øm</button>
  </section>

  <section class="product-list">
    <h2>S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
    <div class="products">
      <div class="product-card">
        <img src="img/figure1.jpg" alt="Figure 1">
        <h3>Figure Naruto</h3>
        <p class="price">500.000ƒë <span class="old-price">600.000ƒë</span></p>
        <div class="card-buttons">
          <a href="product.html" class="btn detail-btn">Xem chi ti·∫øt</a>
          <button class="btn add-cart-btn" data-id="1" data-name="Figure Naruto" data-price="500000" data-image="img/figure1.jpg">üõí Th√™m v√†o gi·ªè</button>
        </div>
      </div>
      <div class="product-card">
        <img src="img/figure2.jpg" alt="Figure 2">
        <h3>Figure Luffy</h3>
        <p class="price">450.000ƒë</p>
        <div class="card-buttons">
          <a href="product.html" class="btn detail-btn">Xem chi ti·∫øt</a>
          <button class="btn add-cart-btn" data-id="2" data-name="Figure Luffy" data-price="450000" data-image="img/figure2.jpg">üõí Th√™m v√†o gi·ªè</button>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 TQN Shop. All rights reserved. | C·ª≠a h√†ng Figure ch√≠nh h√£ng s·ªë 1 Vi·ªát Nam</p>
  </footer>

  <script>
    // X·ª≠ l√Ω n√∫t th√™m v√†o gi·ªè h√†ng
    document.addEventListener('DOMContentLoaded', function() {
      const addCartButtons = document.querySelectorAll('.add-cart-btn');
      
      addCartButtons.forEach(button => {
        button.addEventListener('click', function() {
          const product = {
            id: parseInt(this.dataset.id),
            name: this.dataset.name,
            price: parseInt(this.dataset.price),
            image: this.dataset.image,
            quantity: 1
          };
          
          // L·∫•y gi·ªè h√†ng hi·ªán t·∫°i ho·∫∑c t·∫°o m·ªõi
          let cart = JSON.parse(localStorage.getItem('cart')) || [];
          
          // Ki·ªÉm tra s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè h√†ng ch∆∞a
          const existingItem = cart.find(item => item.id === product.id);
          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push(product);
          }
          
          // L∆∞u gi·ªè h√†ng
          localStorage.setItem('cart', JSON.stringify(cart));
          
          // Hi·ªáu ·ª©ng button
          this.style.transform = 'scale(0.95)';
          this.innerHTML = '‚úÖ ƒê√£ th√™m!';
          
          setTimeout(() => {
            this.style.transform = 'scale(1)';
            this.innerHTML = 'üõí Th√™m v√†o gi·ªè';
          }, 1000);
          
          // Th√¥ng b√°o
          alert(`ƒê√£ th√™m ${product.name} v√†o gi·ªè h√†ng!`);
        });
      });
      
      // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng trong header (n·∫øu c√≥)
      updateCartCount();
    });
    
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      
      // C√≥ th·ªÉ th√™m badge s·ªë l∆∞·ª£ng v√†o link gi·ªè h√†ng
      const cartLink = document.querySelector('a[href="img/cart.html"]');
      if (cartLink && totalItems > 0) {
        cartLink.innerHTML = `Gi·ªè h√†ng (${totalItems})`;
      }
    }
  </script>
</body>
</html>