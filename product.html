<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Chi tiết sản phẩm - TQN Shop</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="logo">
      <a href="index.html">
        <img src="img/logo.jpg" alt="Logo TQN Shop">
      </a>
      <div class="shop-name">TQN Shop</div>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Trang chủ</a></li>
        <li><a href="img/cart.html">Giỏ hàng</a></li>
        <li><a href="#">Đăng nhập</a></li>
      </ul>
    </nav>
  </header>

  <div class="breadcrumb">
    <a href="index.html">Trang chủ</a> > <a href="#">Anime</a> > <span>Figure Naruto</span>
  </div>

  <section class="product-detail">
    <div class="product-images">
      <div class="main-image">
        <img id="mainImg" src="img/figure1.jpg" alt="Figure Naruto">
      </div>
      <div class="thumbnail-images">
        <img src="img/figure1.jpg" alt="Figure Naruto" class="thumb active">
        <img src="img/figure2.jpg" alt="Figure Naruto 2" class="thumb">
        <img src="img/logo.jpg" alt="Figure Naruto 3" class="thumb">
        <img src="img/figure1.jpg" alt="Figure Naruto 4" class="thumb">
      </div>
    </div>

    <div class="product-info">
      <h1>Figure Naruto Uzumaki - Sage Mode</h1>
      <div class="rating">
        <span class="stars">★★★★★</span>
        <span class="rating-text">(4.8/5 - 156 đánh giá)</span>
      </div>
      
      <div class="price-section">
        <span class="current-price">500.000đ</span>
        <span class="old-price">600.000đ</span>
        <span class="discount">-17%</span>
      </div>

      <div class="product-features">
        <h3>Đặc điểm nổi bật:</h3>
        <ul>
          <li>✨ Chất liệu PVC cao cấp từ Nhật Bản</li>
          <li>🎨 Chi tiết tỉ mỉ, màu sắc sống động</li>
          <li>📏 Kích thước: 25cm (1/8 scale)</li>
          <li>🏆 Hàng chính hãng có tem bảo hành</li>
          <li>📦 Đóng gói cẩn thận, giao hàng an toàn</li>
        </ul>
      </div>

      <div class="quantity-section">
        <label>Số lượng:</label>
        <div class="quantity-controls">
          <button class="qty-btn minus">-</button>
          <input type="number" value="1" min="1" class="quantity-input">
          <button class="qty-btn plus">+</button>
        </div>
        <span class="stock-info">Còn 15 sản phẩm</span>
      </div>

      <div class="action-buttons">
        <button class="add-to-cart">🛒 Thêm vào giỏ hàng</button>
        <button class="buy-now">⚡ Mua ngay</button>
        <button class="wishlist">💖 Yêu thích</button>
      </div>

      <div class="shipping-info">
        <h3>Thông tin vận chuyển:</h3>
        <p>🚚 Miễn phí ship đơn hàng > 300.000đ</p>
        <p>⏰ Giao hàng trong 1-2 ngày tại TP.HCM</p>
        <p>📞 Hỗ trợ 24/7: 0123.456.789</p>
      </div>
    </div>
  </section>

  <section class="product-description">
    <div class="tabs">
      <button class="tab-btn active" data-tab="description">Mô tả sản phẩm</button>
      <button class="tab-btn" data-tab="specs">Thông số</button>
      <button class="tab-btn" data-tab="reviews">Đánh giá (156)</button>
    </div>
    
    <div class="tab-content">
      <div id="description" class="tab-pane active">
        <h3>Figure Naruto Uzumaki - Sage Mode</h3>
        <p>Figure Naruto trong trạng thái Sage Mode được thiết kế tỉ mỉ với mọi chi tiết nhỏ nhất. Từ biểu cảm quyết tâm trên khuôn mặt đến những đường nét cơ bắp được điêu khắc tinh xảo, sản phẩm này sẽ là niềm tự hào trong bộ sưu tập của bạn.</p>
        
        <h4>Đặc điểm nổi bật:</h4>
        <ul>
          <li>Chất liệu PVC cao cấp không độc hại</li>
          <li>Sơn phủ chống phai màu theo thời gian</li>
          <li>Base đế vững chắc với logo Naruto</li>
          <li>Có thể tháo rời một số phụ kiện</li>
        </ul>
      </div>
      
      <div id="specs" class="tab-pane">
        <table class="specs-table">
          <tr><td>Thương hiệu:</td><td>Banpresto</td></tr>
          <tr><td>Series:</td><td>Naruto Shippuden</td></tr>
          <tr><td>Kích thước:</td><td>25cm (1/8 scale)</td></tr>
          <tr><td>Chất liệu:</td><td>PVC, ABS</td></tr>
          <tr><td>Trọng lượng:</td><td>350g</td></tr>
          <tr><td>Xuất xứ:</td><td>Nhật Bản</td></tr>
          <tr><td>Độ tuổi:</td><td>15+ tuổi</td></tr>
        </table>
      </div>
      
      <div id="reviews" class="tab-pane">
        <div class="review-summary">
          <div class="avg-rating">4.8/5</div>
          <div class="rating-breakdown">
            <div class="rating-bar">5★ <div class="bar"><div class="fill" style="width: 80%"></div></div> 125</div>
            <div class="rating-bar">4★ <div class="bar"><div class="fill" style="width: 15%"></div></div> 23</div>
            <div class="rating-bar">3★ <div class="bar"><div class="fill" style="width: 3%"></div></div> 5</div>
            <div class="rating-bar">2★ <div class="bar"><div class="fill" style="width: 1%"></div></div> 2</div>
            <div class="rating-bar">1★ <div class="bar"><div class="fill" style="width: 1%"></div></div> 1</div>
          </div>
        </div>
        
        <div class="reviews-list">
          <div class="review-item">
            <div class="reviewer">
              <strong>Minh Anh</strong>
              <span class="stars">★★★★★</span>
            </div>
            <p>"Chất lượng figure rất tốt, chi tiết đẹp, đóng gói cẩn thận. Sẽ mua thêm!"</p>
          </div>
          
          <div class="review-item">
            <div class="reviewer">
              <strong>Tuấn Việt</strong>
              <span class="stars">★★★★★</span>
            </div>
            <p>"Hàng chính hãng, ship nhanh, nhân viên tư vấn nhiệt tình. Recommended!"</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="related-products">
    <h2>Sản phẩm tương tự</h2>
    <div class="products">
      <div class="product-card">
        <img src="img/figure2.jpg" alt="Figure Luffy">
        <h3>Figure Luffy</h3>
        <p class="price">450.000đ</p>
        <a href="#" class="btn">Xem chi tiết</a>
      </div>
      <div class="product-card">
        <img src="img/figure1.jpg" alt="Figure Sasuke">
        <h3>Figure Sasuke</h3>
        <p class="price">520.000đ</p>
        <a href="#" class="btn">Xem chi tiết</a>
      </div>
      <div class="product-card">
        <img src="img/figure2.jpg" alt="Figure Goku">
        <h3>Figure Goku</h3>
        <p class="price">480.000đ</p>
        <a href="#" class="btn">Xem chi tiết</a>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 TQN Shop. All rights reserved. | Cửa hàng Figure chính hãng số 1 Việt Nam</p>
  </footer>

  <script>
    // Xử lý thumbnail images
    document.querySelectorAll('.thumb').forEach(thumb => {
      thumb.addEventListener('click', function() {
        document.querySelector('.thumb.active').classList.remove('active');
        this.classList.add('active');
        document.getElementById('mainImg').src = this.src;
      });
    });

    // Xử lý quantity controls
    document.querySelector('.minus').addEventListener('click', function() {
      const input = document.querySelector('.quantity-input');
      if (parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
    });

    document.querySelector('.plus').addEventListener('click', function() {
      const input = document.querySelector('.quantity-input');
      input.value = parseInt(input.value) + 1;
    });

    // Xử lý tabs
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const tabId = this.dataset.tab;
        
        // Remove active class from all tabs and panes
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
        
        // Add active class to clicked tab and corresponding pane
        this.classList.add('active');
        document.getElementById(tabId).classList.add('active');
      });
    });

    // Xử lý action buttons
    document.querySelector('.add-to-cart').addEventListener('click', function() {
      const quantity = document.querySelector('.quantity-input').value;
      
      // Lưu thông tin sản phẩm vào localStorage
      const product = {
        id: 1,
        name: 'Figure Naruto Uzumaki - Sage Mode',
        price: 500000,
        image: 'img/figure1.jpg',
        quantity: parseInt(quantity)
      };
      
      // Lấy giỏ hàng hiện tại hoặc tạo mới
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      // Kiểm tra sản phẩm đã có trong giỏ hàng chưa
      const existingItem = cart.find(item => item.id === product.id);
      if (existingItem) {
        existingItem.quantity += product.quantity;
      } else {
        cart.push(product);
      }
      
      // Lưu giỏ hàng
      localStorage.setItem('cart', JSON.stringify(cart));
      
      alert(`Đã thêm ${quantity} sản phẩm vào giỏ hàng!`);
      
      // Hỏi có muốn đi đến giỏ hàng không
      if (confirm('Bạn có muốn xem giỏ hàng không?')) {
        window.location.href = 'img/cart.html';
      }
    });

    document.querySelector('.buy-now').addEventListener('click', function() {
      const quantity = document.querySelector('.quantity-input').value;
      
      // Lưu thông tin sản phẩm vào localStorage cho mua ngay
      const product = {
        id: 1,
        name: 'Figure Naruto Uzumaki - Sage Mode',
        price: 500000,
        image: 'img/figure1.jpg',
        quantity: parseInt(quantity)
      };
      
      localStorage.setItem('buyNowProduct', JSON.stringify(product));
      
      // Chuyển trực tiếp đến giỏ hàng
      window.location.href = 'img/cart.html';
    });

    document.querySelector('.wishlist').addEventListener('click', function() {
      this.style.background = this.style.background.includes('ff6b6b') ? 
        'linear-gradient(45deg, #ccc, #999)' : 
        'linear-gradient(45deg, #ff6b6b, #e74c3c)';
      alert(this.style.background.includes('ff6b6b') ? 
        'Đã thêm vào danh sách yêu thích!' : 
        'Đã bỏ khỏi danh sách yêu thích!');
    });
  </script>
</body>
</html>